[OBJECT:REACTION]

{!SHARED_REACTION;TAN_A_HIDE;ADDON_HOOK_GENERIC;
	[NAME:tan a hide]
	[BUILDING:TANNER:CUSTOM_T]
	[REAGENT:A:1:NONE:NONE:NONE:NONE][USE_BODY_COMPONENT][UNROTTEN]
		[HAS_MATERIAL_REACTION_PRODUCT:TAN_MAT]
	[PRODUCT:100:1:SKIN_TANNED:NONE:GET_MATERIAL_FROM_REAGENT:A:TAN_MAT]
	[SKILL:TANNER]
	[AUTOMATIC]
}

{!SHARED_REACTION;RENDER_FAT;ADDON_HOOK_GENERIC;
	[NAME:render fat]
	[BUILDING:KITCHEN:CUSTOM_R]
	[REAGENT:A:150:GLOB:NONE:NONE:NONE][REACTION_CLASS:FAT][UNROTTEN]
		[HAS_MATERIAL_REACTION_PRODUCT:RENDER_MAT]
	[PRODUCT:100:1:GLOB:NONE:GET_MATERIAL_FROM_REAGENT:A:RENDER_MAT]
	[SKILL:COOK]
	[AUTOMATIC]
}

{!SHARED_REACTION;MILL_PLANTS_TO_FLOUR;ADDON_HOOK_PLAYABLE;
	[NAME:mill plant to flour]
	[BUILDING:QUERN:CUSTOM_F]
	[BUILDING:MILLSTONE:CUSTOM_F]
	[REAGENT:bag:1:BOX:NONE:NONE:NONE]
		[EMPTY]
		[BAG]
		[PRESERVE_REAGENT]
		[DOES_NOT_DETERMINE_PRODUCT_AMOUNT]
	[REAGENT:plant:1:PLANT:NONE:NONE:NONE]
		[UNROTTEN]
		[HAS_MATERIAL_REACTION_PRODUCT:FLOUR_MAT]
	[PRODUCT:100:1:POWDER_MISC:NONE:GET_MATERIAL_FROM_REAGENT:plant:FLOUR_MAT]
		[PRODUCT_DIMENSION:150]
		[PRODUCT_TO_CONTAINER:bag]
	[SKILL:MILLING]
}

{!SHARED_REACTION;MILL_PLANTS_TO_SUGAR;ADDON_HOOK_PLAYABLE;
	[NAME:mill plant to sugar]
	[BUILDING:QUERN:CUSTOM_S]
	[BUILDING:MILLSTONE:CUSTOM_S]
	[REAGENT:bag:1:BOX:NONE:NONE:NONE]
		[EMPTY]
		[BAG]
		[PRESERVE_REAGENT]
		[DOES_NOT_DETERMINE_PRODUCT_AMOUNT]
	[REAGENT:plant:1:PLANT:NONE:NONE:NONE]
		[UNROTTEN]
		[HAS_MATERIAL_REACTION_PRODUCT:SUGAR_MAT]
	[PRODUCT:100:1:POWDER_MISC:NONE:GET_MATERIAL_FROM_REAGENT:plant:SUGAR_MAT]
		[PRODUCT_DIMENSION:150]
		[PRODUCT_TO_CONTAINER:bag]
	[SKILL:MILLING]
}

{!SHARED_REACTION;MILL_PLANTS_TO_DYE;ADDON_HOOK_PLAYABLE;
	[NAME:mill plant to dye]
	[BUILDING:QUERN:CUSTOM_D]
	[BUILDING:MILLSTONE:CUSTOM_D]
	[REAGENT:bag:1:BOX:NONE:NONE:NONE]
		[EMPTY]
		[BAG]
		[PRESERVE_REAGENT]
		[DOES_NOT_DETERMINE_PRODUCT_AMOUNT]
	[REAGENT:plant:1:PLANT:NONE:NONE:NONE]
		[UNROTTEN]
		[HAS_MATERIAL_REACTION_PRODUCT:DYE_MAT]
	[PRODUCT:100:1:POWDER_MISC:NONE:GET_MATERIAL_FROM_REAGENT:plant:DYE_MAT]
		[PRODUCT_DIMENSION:150]
		[PRODUCT_TO_CONTAINER:bag]
	[SKILL:MILLING]
}

{!SHARED_REACTION;MILL_PLANTS_TO_PASTE;ADDON_HOOK_PLAYABLE;
	[NAME:mill plant to paste]
	[BUILDING:QUERN:CUSTOM_P]
	[BUILDING:MILLSTONE:CUSTOM_P]
	[REAGENT:plant:1:PLANT:NONE:NONE:NONE]
		[UNROTTEN]
		[HAS_MATERIAL_REACTION_PRODUCT:PASTE_MAT]
	[PRODUCT:100:1:GLOB:NONE:GET_MATERIAL_FROM_REAGENT:plant:PASTE_MAT]
		[PRODUCT_PASTE]
	[SKILL:MILLING]
}

{!SHARED_REACTION;MILL_STONE_TO_SAND;ADDON_HOOK_PLAYABLE;
	[NAME:mill stone to sand]
	[BUILDING:MILLSTONE:CUSTOM_SHIFT_S]
	[REAGENT:stone:1:BOULDER:NONE:INORGANIC:NONE]
		[HAS_MATERIAL_REACTION_PRODUCT:GRIND_SAND_MAT]
	[REAGENT:bag:1:BOX:NONE:NONE:NONE]
		[EMPTY]
		[BAG]
		[PRESERVE_REAGENT]
		[DOES_NOT_DETERMINE_PRODUCT_AMOUNT]
	[PRODUCT:100:1:POWDER_MISC:NONE:GET_MATERIAL_FROM_REAGENT:stone:GRIND_SAND_MAT]
		[PRODUCT_DIMENSION:150]
		[PRODUCT_TO_CONTAINER:bag]
	[SKILL:MILLING]
}

{!SHARED_REACTION;PRESS_LIQUID_PASTE;ADDON_HOOK_PLAYABLE;
	[NAME:press paste]
	[BUILDING:SCREW_PRESS:CUSTOM_P]
	[REAGENT:paste:150:GLOB:NONE:NONE:NONE]
		[HAS_MATERIAL_REACTION_PRODUCT:PRESS_LIQUID_MAT]
		[HAS_MATERIAL_REACTION_PRODUCT:PRESS_CAKE_MAT]
		[NOT_PRESSED]
	[REAGENT:liquid container:1:TOOL:NONE:NONE:NONE]
		[EMPTY]
		[DOES_NOT_ABSORB]
		[PRESERVE_REAGENT]
		[HAS_TOOL_USE:LIQUID_CONTAINER]
		[DOES_NOT_DETERMINE_PRODUCT_AMOUNT]
	[PRODUCT:100:1:LIQUID_MISC:NONE:GET_MATERIAL_FROM_REAGENT:paste:PRESS_LIQUID_MAT]
		[PRODUCT_TO_CONTAINER:liquid container]
	[PRODUCT:100:1:GLOB:NONE:GET_MATERIAL_FROM_REAGENT:paste:PRESS_CAKE_MAT]
		[PRODUCT_PRESSED]
	[SKILL:PRESSING]
}

{!SHARED_REACTION;BREW_DRINK_PLANT;ADDON_HOOK_PLAYABLE;
	[NAME:brew plant]
	[BUILDING:STILL:HOTKEY_STILL_BREW]
	[REAGENT:plant:1:PLANT:NONE:NONE:NONE]
		[HAS_MATERIAL_REACTION_PRODUCT:DRINK_MAT]
		[UNROTTEN]
	[REAGENT:barrel/pot:1:NONE:NONE:NONE:NONE]
		[EMPTY]
		[FOOD_STORAGE_CONTAINER]
		[PRESERVE_REAGENT]
		[DOES_NOT_DETERMINE_PRODUCT_AMOUNT]
	[PRODUCT:100:5:DRINK:NONE:GET_MATERIAL_FROM_REAGENT:plant:DRINK_MAT]
		[PRODUCT_TO_CONTAINER:barrel/pot]
		[PRODUCT_DIMENSION:150]
	[PRODUCT:100:1:SEEDS:NONE:GET_MATERIAL_FROM_REAGENT:plant:SEED_MAT]
	[SKILL:BREWING]
}

{!SHARED_REACTION;BREW_DRINK_FRUIT;ADDON_HOOK_PLAYABLE;
	[NAME:brew fruit]
	[BUILDING:STILL:CUSTOM_F]
	[REAGENT:plant:1:PLANT_GROWTH:NONE:NONE:NONE]
		[HAS_MATERIAL_REACTION_PRODUCT:DRINK_MAT]
		[UNROTTEN]
	[REAGENT:barrel/pot:1:NONE:NONE:NONE:NONE]
		[EMPTY]
		[FOOD_STORAGE_CONTAINER]
		[PRESERVE_REAGENT]
		[DOES_NOT_DETERMINE_PRODUCT_AMOUNT]
	[PRODUCT:100:5:DRINK:NONE:GET_MATERIAL_FROM_REAGENT:plant:DRINK_MAT]
		[PRODUCT_TO_CONTAINER:barrel/pot]
		[PRODUCT_DIMENSION:150]
	[PRODUCT:100:1:SEEDS:NONE:GET_MATERIAL_FROM_REAGENT:plant:SEED_MAT]
	[SKILL:BREWING]
}

# Process plants into specific items. If the produced item has the "TRANSFORM_MAT" MRP then a DFHack script will
# transform it's material after a time delay.
{!SHARED_REACTION;PROCESS_PLANT_SPECIAL;ADDON_HOOK_PLAYABLE;
	[NAME:process special plant]
	[BUILDING:FARMER:CUSTOM_S]
	[REAGENT:plant:1:PLANT:NONE:NONE:NONE]
		[HAS_MATERIAL_REACTION_PRODUCT:SPECIAL_ITEM]
		[UNROTTEN]
	[PRODUCT:100:1:GET_ITEM_DATA_FROM_REAGENT:plant:SPECIAL_ITEM]
	[PRODUCT:100:2:SEEDS:NONE:GET_MATERIAL_FROM_REAGENT:plant:SEED_MAT]
	[SKILL:PROCESSPLANTS]
}

# This reaction (and the next two) are automatically queued in a semi-random manner by DFHack scripts.
# DO NOT ADD THESE REACTIONS TO AN ENTITY!
{!SHARED_REACTION;BEETLE_HIVE_TEND;NULL;
	[NAME:tend hive]
	[PRODUCT:100:1:GLOB:NONE:PLANT_MAT:RESIN_BEETLE:RESIN]
	[SKILL:BEEKEEPING]
}

{!SHARED_REACTION;BEETLE_HIVE_SPLIT;NULL;
	[NAME:split hive]
	[PRODUCT:100:1:TOOL:ITEM_TOOL_RESIN_BEETLES:INORGANIC:BLANK]
	[SKILL:BEEKEEPING]
}

{!SHARED_REACTION;ALGAE_TANK_TEND;NULL;
	[NAME:tend tank]
	[PRODUCT:100:1:PLANT:NONE:PLANT_MAT:ALGAE_TANK:CAKE]
	[SKILL:BEEKEEPING]
}

{!SHARED_REACTION;MOISTURE_CONDENSER_TEND;NULL;
	[NAME:fill barrel]
	[REAGENT:barrel/pot:1:NONE:NONE:NONE:NONE]
		[EMPTY]
		[FOOD_STORAGE_CONTAINER]
		[PRESERVE_REAGENT]
		[DOES_NOT_DETERMINE_PRODUCT_AMOUNT]
	[PRODUCT:100:5:DRINK:NONE:WATER:NONE]
		[PRODUCT_TO_CONTAINER:barrel/pot]
		[PRODUCT_DIMENSION:150]
	[SKILL:BEEKEEPING]
}

{!SHARED_REACTION;HAND_AXE_PRIMITIVE;ADDON_HOOK_PLAYABLE;
	[NAME:make primitive hand axe]
	[BUILDING:PRIMITIVE_ASSEMBLY:NONE]
	[REAGENT:A:1:WOOD:NONE:NONE:NONE]
		[REACTION_CLASS:WOOD_MAT]
	[PRODUCT:100:1:WEAPON:ITEM_WEAPON_AXE:INORGANIC:PRIMITIVE_ITEM]
}

{!SHARED_REACTION;PICK_PRIMITIVE;ADDON_HOOK_PLAYABLE;
	[NAME:make primitive pickaxe]
	[BUILDING:PRIMITIVE_ASSEMBLY:NONE]
	[REAGENT:A:1:WOOD:NONE:NONE:NONE]
		[REACTION_CLASS:WOOD_MAT]
	[PRODUCT:100:1:WEAPON:ITEM_WEAPON_PICK:INORGANIC:PRIMITIVE_ITEM]
}

{!SHARED_REACTION;TOOLS_PRIMITIVE;ADDON_HOOK_PLAYABLE;
	[NAME:make primitive hand tools]
	[BUILDING:PRIMITIVE_ASSEMBLY:NONE]
	[REAGENT:A:1:WOOD:NONE:NONE:NONE]
		[REACTION_CLASS:WOOD_MAT]
	[PRODUCT:100:1:TOOL:ITEM_TOOL_HAND_TOOLS:INORGANIC:PRIMITIVE_ITEM]
}
